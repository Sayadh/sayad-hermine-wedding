{
  "version": 3,
  "sources": ["../../vue-use-sound/dist/esm/index.js"],
  "sourcesContent": ["/*!\n  * vue-use-sound v1.1.1\n  * (c) 2021 YaÃ«l GUILLOUX\n  * @license MIT\n  */\nimport { ref, onMounted, unref, watch } from 'vue-demi';\n\nfunction useSound(url, { volume = 1, playbackRate = 1, soundEnabled = true, interrupt = false, onload, ...delegated } = {}) {\r\n    const HowlConstructor = ref(null);\r\n    const isPlaying = ref(false);\r\n    let duration = ref(null);\r\n    let sound = ref(null);\r\n    onMounted(() => {\r\n        import('./howler-878e393d.js').then(function (n) { return n.h; }).then((mod) => {\r\n            HowlConstructor.value = mod.Howl;\r\n            sound.value = new HowlConstructor.value({\r\n                src: [url],\r\n                volume: unref(volume),\r\n                rate: unref(playbackRate),\r\n                onload: handleLoad,\r\n                ...delegated,\r\n            });\r\n        });\r\n    });\r\n    const handleLoad = function () {\r\n        if (typeof onload === 'function') {\r\n            // @ts-ignore\r\n            onload.call(this);\r\n        }\r\n        // @ts-ignore\r\n        duration = duration * 1000;\r\n    };\r\n    watch(() => [url], () => {\r\n        if (HowlConstructor && HowlConstructor.value && sound && sound.value) {\r\n            sound.value = new HowlConstructor.value({\r\n                src: [url],\r\n                volume: unref(volume),\r\n                rate: unref(playbackRate),\r\n                onload: handleLoad,\r\n                ...delegated,\r\n            });\r\n        }\r\n    });\r\n    watch(() => [unref(volume), unref(playbackRate)], () => {\r\n        if (sound.value) {\r\n            sound.value.volume(unref(volume));\r\n            sound.value.rate(unref(playbackRate));\r\n        }\r\n    });\r\n    const play = (options) => {\r\n        if (typeof options === 'undefined') {\r\n            options = {};\r\n        }\r\n        if (!sound.value || (!soundEnabled && !options.forceSoundEnabled)) {\r\n            return;\r\n        }\r\n        if (interrupt) {\r\n            sound.value.stop();\r\n        }\r\n        if (options.playbackRate) {\r\n            sound.value.rate(options.playbackRate);\r\n        }\r\n        sound.value.play(options.id);\r\n        sound.value.once('end', () => {\r\n            if (sound && sound.value && !sound.value.playing()) {\r\n                isPlaying.value = false;\r\n            }\r\n        });\r\n        isPlaying.value = true;\r\n    };\r\n    const stop = (id) => {\r\n        if (!sound.value) {\r\n            return;\r\n        }\r\n        sound.value.stop(typeof id === 'number' ? id : undefined);\r\n        isPlaying.value = false;\r\n    };\r\n    const pause = (id) => {\r\n        if (!sound.value) {\r\n            return;\r\n        }\r\n        sound.value.pause(typeof id === 'number' ? id : undefined);\r\n        isPlaying.value = false;\r\n    };\r\n    const returnedValue = [\r\n        play,\r\n        {\r\n            sound,\r\n            isPlaying,\r\n            duration,\r\n            pause,\r\n            stop,\r\n        },\r\n    ];\r\n    return returnedValue;\r\n}\n\nexport default useSound;\n"],
  "mappings": ";;;;;;;;AAOA,SAAS,SAAS,KAAK,EAAE,SAAS,GAAG,eAAe,GAAG,eAAe,MAAM,YAAY,OAAO,QAAQ,GAAG,UAAU,IAAI,CAAC,GAAG;AACxH,QAAM,kBAAkB,IAAI,IAAI;AAChC,QAAM,YAAY,IAAI,KAAK;AAC3B,MAAI,WAAW,IAAI,IAAI;AACvB,MAAI,QAAQ,IAAI,IAAI;AACpB,YAAU,MAAM;AACZ,WAAO,+BAAsB,EAAE,KAAK,SAAU,GAAG;AAAE,aAAO,EAAE;AAAA,IAAG,CAAC,EAAE,KAAK,CAAC,QAAQ;AAC5E,sBAAgB,QAAQ,IAAI;AAC5B,YAAM,QAAQ,IAAI,gBAAgB,MAAM;AAAA,QACpC,KAAK,CAAC,GAAG;AAAA,QACT,QAAQ,MAAM,MAAM;AAAA,QACpB,MAAM,MAAM,YAAY;AAAA,QACxB,QAAQ;AAAA,QACR,GAAG;AAAA,MACP,CAAC;AAAA,IACL,CAAC;AAAA,EACL,CAAC;AACD,QAAM,aAAa,WAAY;AAC3B,QAAI,OAAO,WAAW,YAAY;AAE9B,aAAO,KAAK,IAAI;AAAA,IACpB;AAEA,eAAW,WAAW;AAAA,EAC1B;AACA,QAAM,MAAM,CAAC,GAAG,GAAG,MAAM;AACrB,QAAI,mBAAmB,gBAAgB,SAAS,SAAS,MAAM,OAAO;AAClE,YAAM,QAAQ,IAAI,gBAAgB,MAAM;AAAA,QACpC,KAAK,CAAC,GAAG;AAAA,QACT,QAAQ,MAAM,MAAM;AAAA,QACpB,MAAM,MAAM,YAAY;AAAA,QACxB,QAAQ;AAAA,QACR,GAAG;AAAA,MACP,CAAC;AAAA,IACL;AAAA,EACJ,CAAC;AACD,QAAM,MAAM,CAAC,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,GAAG,MAAM;AACpD,QAAI,MAAM,OAAO;AACb,YAAM,MAAM,OAAO,MAAM,MAAM,CAAC;AAChC,YAAM,MAAM,KAAK,MAAM,YAAY,CAAC;AAAA,IACxC;AAAA,EACJ,CAAC;AACD,QAAM,OAAO,CAAC,YAAY;AACtB,QAAI,OAAO,YAAY,aAAa;AAChC,gBAAU,CAAC;AAAA,IACf;AACA,QAAI,CAAC,MAAM,SAAU,CAAC,gBAAgB,CAAC,QAAQ,mBAAoB;AAC/D;AAAA,IACJ;AACA,QAAI,WAAW;AACX,YAAM,MAAM,KAAK;AAAA,IACrB;AACA,QAAI,QAAQ,cAAc;AACtB,YAAM,MAAM,KAAK,QAAQ,YAAY;AAAA,IACzC;AACA,UAAM,MAAM,KAAK,QAAQ,EAAE;AAC3B,UAAM,MAAM,KAAK,OAAO,MAAM;AAC1B,UAAI,SAAS,MAAM,SAAS,CAAC,MAAM,MAAM,QAAQ,GAAG;AAChD,kBAAU,QAAQ;AAAA,MACtB;AAAA,IACJ,CAAC;AACD,cAAU,QAAQ;AAAA,EACtB;AACA,QAAM,OAAO,CAAC,OAAO;AACjB,QAAI,CAAC,MAAM,OAAO;AACd;AAAA,IACJ;AACA,UAAM,MAAM,KAAK,OAAO,OAAO,WAAW,KAAK,MAAS;AACxD,cAAU,QAAQ;AAAA,EACtB;AACA,QAAM,QAAQ,CAAC,OAAO;AAClB,QAAI,CAAC,MAAM,OAAO;AACd;AAAA,IACJ;AACA,UAAM,MAAM,MAAM,OAAO,OAAO,WAAW,KAAK,MAAS;AACzD,cAAU,QAAQ;AAAA,EACtB;AACA,QAAM,gBAAgB;AAAA,IAClB;AAAA,IACA;AAAA,MACI;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAAA,EACJ;AACA,SAAO;AACX;AAEA,IAAO,cAAQ;",
  "names": []
}
